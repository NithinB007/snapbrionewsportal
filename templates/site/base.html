{% load static %}
<!DOCTYPE html>
<html>
    {% include 'site/includes/_head.html' %}
        <title> 
             {% block title %}  {% endblock %} SNAPBRIO NEWS
        </title>
    </head>
<body id="page-top" data-spy="scroll" data-target=".navbar">
    <div id="main-wrapper">
        {% include 'site/includes/_header.html' with Category=Category %}
            {% block content %}{% endblock %}
        {% include 'site/includes/_mail_subscriptions.html' %}
        {% include 'site/includes/_footer.html' %}
        {% include 'site/includes/_uc_mobile_menu.html' %}
    </div>
        {% include 'site/includes/_scripts.html' %}
        {% include 'site/includes/_notification.html' %}
            {% block script %}{% endblock %}


            <!-- Share Modal -->
<div id="shareModal" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%);
background:#fff; border-radius:8px; padding:20px; z-index:1000; box-shadow:0 4px 20px rgba(0,0,0,0.3); width:300px;">
<h4>Share this article</h4>
<ul style="list-style:none; padding:0;">
    <li><a id="fb-share" href="#" target="_blank">Facebook</a></li>
    <li><a id="twitter-share" href="#" target="_blank">X (Twitter)</a></li>
    <li><a id="linkedin-share" href="#" target="_blank">LinkedIn</a></li>
    <li><a id="email-share" href="#">Email</a></li>
    <li><a href="#" onclick="copyToClipboard()">Copy Link</a></li>
</ul>
<button onclick="closeShareModal()" style="margin-top:10px;">Close</button>
</div>

<!-- Modal background overlay -->
<div id="modalOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
background:rgba(0,0,0,0.5); z-index:999;" onclick="closeShareModal()"></div>

</body>

<script>
    let currentArticleUrl = '';
    let currentArticleTitle = '';
    
    function openShareModal(url, title) {
        currentArticleUrl = url;
        currentArticleTitle = title;
    
        document.getElementById("fb-share").href = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
        document.getElementById("twitter-share").href = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;
        document.getElementById("linkedin-share").href = `https://www.linkedin.com/shareArticle?url=${url}&title=${title}`;
        document.getElementById("email-share").href = `mailto:?subject=${title}&body=${url}`;
    
        document.getElementById("shareModal").style.display = "block";
        document.getElementById("modalOverlay").style.display = "block";
    }
    
    function closeShareModal() {
        document.getElementById("shareModal").style.display = "none";
        document.getElementById("modalOverlay").style.display = "none";
    }
    
    function copyToClipboard() {
        navigator.clipboard.writeText(currentArticleUrl).then(function () {
            alert('Link copied to clipboard!');
        }, function () {
            alert('Failed to copy the link.');
        });
    }
    </script>
    
</html>